(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about6"],{"1b14":function(t,e,l){"use strict";l("729c")},"729c":function(t,e,l){},"9a0b":function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{margin:"10px 0"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜单名称","suffix-icon":"el-icon-search"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("el-button",{staticClass:"ml-5",attrs:{type:"primary"},on:{click:function(e){return t.load()}}},[t._v("搜索")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1),e("div",{staticStyle:{margin:"10px 0"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("新增"),e("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"5px"}})]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delbath()}}},[t._v("批量删除"),e("i",{staticClass:"el-icon-remove",staticStyle:{"margin-left":"5px"}})]),e("el-upload",{staticClass:"upload-demo ml-10",staticStyle:{display:"inline-block"},attrs:{action:"http://localhost:9090/role/import","show-file-list":!1,accept:".xlsx","on-success":t.handleExcelImportSuccess}},[e("el-button",{attrs:{type:"primary"}},[t._v(" 导入"),e("i",{staticClass:"el-icon-bottom",staticStyle:{"margin-left":"5px"}})])],1),e("el-button",{staticClass:"ml-10",attrs:{type:"primary"},on:{click:function(e){return t.exp()}}},[t._v("导出"),e("i",{staticClass:"el-icon-top",staticStyle:{"margin-left":"5px"}})])],1),e("el-table",{attrs:{data:t.tableData,border:"",stripe:"","header-cell-class-name":t.headerBg,"row-key":"id","default-expand-all":""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),e("el-table-column",{attrs:{prop:"name",label:"名称"}}),e("el-table-column",{attrs:{prop:"path",label:"路径"}}),e("el-table-column",{attrs:{prop:"pagePath",label:"页面路径"}}),e("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("i",{class:t.row.icon,staticStyle:{"font-size":"20px"}})]}}])}),e("el-table-column",{attrs:{prop:"description",label:"描述"}}),e("el-table-column",{staticStyle:{display:"inline-block"},attrs:{label:"操作",width:"280","min-width":"83px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[l.row.pid||l.row.path?t._e():e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAdd(l.row.id)}}},[t._v("新增子菜单"),e("i",{staticClass:"el-icon-plus",staticStyle:{"margin-left":"3px"}})]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleEdit(l.row)}}},[t._v("编辑"),e("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"3px"}})]),e("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"danger"},on:{click:function(e){return t.handleDelete(l.row.id)}}},[t._v("删除"),e("i",{staticClass:"el-icon-remove",staticStyle:{"margin-left":"3px"}})])]}}])})],1),e("el-dialog",{attrs:{title:"菜单信息",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{"label-width":"80px",size:"small"}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"路径"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),e("el-form-item",{attrs:{label:"页面路径"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.pagePath,callback:function(e){t.$set(t.form,"pagePath",e)},expression:"form.pagePath"}})],1),e("el-form-item",{attrs:{label:"图标"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}},t._l(t.options,(function(l){return e("el-option",{key:l.name,attrs:{label:l.name,value:l.value}},[e("i",{class:l.value}),t._v(t._s(l.name)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"描述"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.handleCancel()}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("确 定")])],1)],1)],1)},i=[],s=l("863e"),o={name:"Role",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,name:"",description:"",dialogFormVisible:!1,form:{},multipleSelection:[],headerBg:"headerBg",options:[]}},created(){this.load()},methods:{load(){this.request.get("/menu",{params:{name:this.name}}).then(t=>{this.tableData=t.data})},handleSizeChange(t){console.log(t),this.pageSize=t,this.load()},handleCurrentChange(t){console.log(t),this.pageNum=t,this.load()},reset(){this.name="",this.description="",this.load()},handleAdd(t){this.dialogFormVisible=!0,this.form={},t&&(this.form.pid=t)},save(){this.request.post("/menu",this.form).then(t=>{t?(console.log("this.form.icon==>"+JSON.stringify(this.form)),this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.success("保存失败")})},handleEdit(t){this.form=t,console.log("this.form==>"+this.form),this.dialogFormVisible=!0,this.request.get("/menu/icons").then(t=>{this.options=t.data})},handleCancel(){this.dialogFormVisible=!1,this.load()},handleDelete(t){this.$confirm("此操作将永久删除该用户信息, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.request.delete("/menu/"+t).then(t=>{console.log("delRes==>"+t),this.load()}),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},handleSelectionChange(t){console.log(t),this.multipleSelection=t},delbath(){this.$confirm("此操作将永久删除该用户信息, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.multipleSelection.map(t=>t.id);this.request.post("/menu/del/batch",t).then(t=>{console.log("delRes==>"+t),1==t?(this.$message({type:"success",message:"删除成功!"}),this.load()):this.$message({type:"info",message:"请至少选择一个用户进行删除"})})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},handleExcelImportSuccess(){this.$message.success("用户信息上传成功!"),this.load()},exp(){window.open(`http://${s["a"]}:9090/role/export`)}}},n=o,r=(l("1b14"),l("2877")),c=Object(r["a"])(n,a,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=about6.6ac2e194.js.map